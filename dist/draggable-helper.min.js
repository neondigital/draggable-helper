/*!
 * draggable-helper v3.0.4
 * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).draggableHelper=t()}(this,(function(){"use strict";var e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};
/*!
   * helper-js v1.4.21
   * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
   * Released under the MIT License.
   */function t(e){for(var t=function(e){var t=e.offsetParent;return(!t||t===document.body&&"static"===getComputedStyle(document.body).position)&&(t=document.body.parentElement),t}(e),n={x:e.offsetLeft,y:e.offsetTop},r=e;(r=r.parentElement)!==t&&r;)n.x-=r.scrollLeft,n.y-=r.scrollTop;return n}function n(e){var t=e.getBoundingClientRect(),n=t.top-document.documentElement.clientTop,r=t.bottom,o=t.left-document.documentElement.clientLeft,a=t.right;return{top:n,right:a,bottom:r,left:o,width:t.width||a-o,height:t.height||r-n,x:o,y:n}}function r(e,t,n){for(var r=n&&n.withSelf?e:e.parentElement;r;){var o=t(r);if("break"===o)return;if(o)return r;r=r.parentElement}}function o(e,t){e["original_".concat(t)]=e.getAttribute(t)}function a(e,t){var n="original_".concat(t);e.setAttribute(t,e[n])}function i(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function l(e,t){i(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function s(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];e.addEventListener?e.addEventListener(t,n,...o):e.attachEvent&&e.attachEvent("on".concat(t),n,...o)}function u(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];e.removeEventListener?e.removeEventListener(t,n,...o):e.detachEvent&&e.detachEvent("on".concat(t),n,...o)}
/*!
   * drag-event-service v1.0.2
   * (c) phphe <phphe@outlook.com> (https://github.com/phphe)
   * Released under the MIT License.
   */var c={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},f={isTouch:e=>e.type&&e.type.startsWith("touch"),_getStore:e=>(e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore),on(e,t,n,r){var{args:o,mouseArgs:a,touchArgs:i}=g(r),l=this._getStore(e),u=this,f=function(e){var r;if(u.isTouch(e))r={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};else if(r={x:e.pageX,y:e.pageY},"start"===t&&1!==e.which)return;return n.call(this,e,r)};l.push({handler:n,wrapper:f}),s.call(null,e,c[t][0],f,...o,...a),s.call(null,e,c[t][1],f,...o,...i)},off(e,t,n,r){for(var{args:o,mouseArgs:a,touchArgs:i}=g(r),l=this._getStore(e),s=l.length-1;s>=0;s--){var{handler:f,wrapper:d}=l[s];n===f&&(u.call(null,e,c[t][0],d,...o,...a),u.call(null,e,c[t][1],d,...o,...a),l.splice(s,1))}}};function g(e){return e||(e={}),{args:e.args||[],mouseArgs:e.mouseArgs||[],touchArgs:e.touchArgs||[]}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=["INPUT","TEXTAREA","SELECT","OPTGROUP","OPTION"];return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s=p({minTranslate:10,draggingClass:"dragging"},s);var u={movedCount:0},c=function(){f.off(e,"start",e._draggbleEventHandler),delete e._draggbleEventHandler};return e._draggbleEventHandler&&c(),e._draggbleEventHandler=g,f.on(e,"start",g),c;function g(t,n){s.triggerBySelf&&t.target!==e||(v.includes(t.target.tagName)||i(t.target,"undraggable")||r(t.target,(function(t){return!!i(t,"undraggable")||(t===e?"break":void 0)}))||(t.preventDefault(),u.mouse={x:n.x,y:n.y},u.startEvent=t,u.initialMouse=p({},u.mouse),f.on(document,"move",m,{touchArgs:[{passive:!1}]}),f.on(window,"end",h)))}function d(e){var t=s.beforeDrag&&s.beforeDrag(u.startEvent,e,u,s);if(!1===t)return!1;var r=y(),a=r.el,i=r.position;if(u.el=a,u.initialPosition=p({},i),!1===(t=s.drag&&s.drag(u.startEvent,e,u,s)))return!1;var c=n(a),f=p({width:"".concat(Math.ceil(c.width),"px"),height:"".concat(Math.ceil(c.height),"px"),zIndex:9999,opacity:.8,position:"absolute",left:i.x+"px",top:i.y+"px"},s.style||s.getStyle&&s.getStyle(u,s)||{});for(var g in o(a,"style"),f)a.style[g]=f[g];o(a,"class"),l(a,s.draggingClass)}function m(e,t){e.preventDefault(),u.mouse={x:t.x,y:t.y};var n=u.move={x:u.mouse.x-u.initialMouse.x,y:u.mouse.y-u.initialMouse.y};if(0===u.movedCount&&s.minTranslate){var r=Math.pow(u.move.x,2),o=Math.pow(u.move.y,2);if(Math.pow(r+o,.5)<s.minTranslate)return}var a=!0;if(0===u.movedCount&&!1===d(e)&&(a=!1),a&&s.moving&&!1===s.moving(e,u,s)&&(a=!1),a){if(!u||!u.el)return;Object.assign(u.el.style,{left:u.initialPosition.x+n.x+"px",top:u.initialPosition.y+n.y+"px"}),u.movedCount++}}function h(e){if(f.off(document,"move",m,{touchArgs:[{passive:!1}]}),f.off(window,"end",h),u.movedCount>0){u.movedCount=0,u.endEvent=e;var t=u.el,n=function(){s.clone?t.parentElement.removeChild(t):(a(t,"style"),a(t,"class"))};s.restoreDOMManuallyOndrop||(n(),n=null),u.restoreDOM=n,s.drop&&s.drop(e,u,s)}u={movedCount:0}}function y(){var n=s.getEl?s.getEl(e,u,s):e,r=n;return u.originalEl=n,s.clone&&(r=n.cloneNode(!0),n.parentElement.appendChild(r)),{position:t(n),el:r}}}}));
